<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extreme Anime</title>

<style>
body{
margin:0;
font-family:Arial;
background:#111;
color:white;
}

header{
background:#000;
padding:15px;
text-align:center;
font-size:22px;
font-weight:bold;
}

.search{
text-align:center;
margin:10px;
}

input{
padding:8px;
width:80%;
}

.container{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:15px;
padding:15px;
}

.card{
background:#1b1b1b;
border-radius:10px;
overflow:hidden;
cursor:pointer;
}

.card img{
width:100%;
height:200px;
object-fit:cover;
}

.card h3{
padding:10px;
font-size:16px;
text-align:center;
}

#player{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:black;
z-index:9999;
}

#player iframe{
width:100%;
height:250px;
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
}

#player button{
position:absolute;
top:20px;
right:20px;
padding:10px;
}

.admin{
background:#000;
padding:15px;
margin:15px;
border-radius:10px;
}

.admin input{
width:100%;
margin:5px 0;
}
</style>
</head>

<body>

<header>ðŸ”¥ Extreme Anime</header>

<div class="search">
<input type="text" id="search" placeholder="Search anime..." onkeyup="searchAnime()">
</div>

<div class="admin">
<h3>Admin Panel</h3>
<input type="text" id="animeTitle" placeholder="Anime Title">
<input type="text" id="animeImage" placeholder="Thumbnail Image Link">
<input type="text" id="episodeName" placeholder="Episode Name">
<input type="text" id="episodeLink" placeholder="YouTube Embed Link">
<button onclick="addEpisode()">Add Episode</button>
</div>

<div class="container" id="animeList"></div>

<div id="player">
<button onclick="closePlayer()">Close</button>
<iframe id="videoFrame" frameborder="0" allowfullscreen></iframe>
</div>

<script>

let animeData = JSON.parse(localStorage.getItem("animeData")) || [];

function saveData(){
localStorage.setItem("animeData", JSON.stringify(animeData));
}

function addEpisode(){
let title=document.getElementById("animeTitle").value;
let image=document.getElementById("animeImage").value;
let epName=document.getElementById("episodeName").value;
let epLink=document.getElementById("episodeLink").value;

if(title===""||image===""||epName===""||epLink===""){
alert("Fill all fields");
return;
}

let anime=animeData.find(a=>a.title===title);

if(!anime){
anime={title:title,image:image,episodes:[]};
animeData.push(anime);
}

anime.episodes.push({name:epName,link:epLink});
saveData();
renderAnime();
alert("Episode Added!");
}

function renderAnime(){
let container=document.getElementById("animeList");
container.innerHTML="";

animeData.forEach(anime=>{
let card=document.createElement("div");
card.className="card";

card.innerHTML=`
<img src="${anime.image}">
<h3>${anime.title}</h3>
<select onchange="playEpisode(this)">
<option value="">Select Episode</option>
${anime.episodes.map(ep=>`<option value="${ep.link}">${ep.name}</option>`).join("")}
</select>
`;

container.appendChild(card);
});
}

function playEpisode(select){
let link=select.value;
if(link==="") return;

document.getElementById("player").style.display="block";
document.getElementById("videoFrame").src=link;
}

function closePlayer(){
document.getElementById("player").style.display="none";
document.getElementById("videoFrame").src="";
}

function searchAnime(){
let input=document.getElementById("search").value.toLowerCase();
let cards=document.getElementsByClassName("card");

for(let card of cards){
let title=card.getElementsByTagName("h3")[0].innerText.toLowerCase();
card.style.display=title.includes(input)?"block":"none";
}
}

renderAnime();

</script>

</body>
</html>
